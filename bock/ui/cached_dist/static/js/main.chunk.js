(this["webpackJsonpbock-ui"]=this["webpackJsonpbock-ui"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){},133:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},144:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),a=c(54),i=c.n(a),s=c(20),j=c(18),l=c(24),o=c(7),h=c(30),b=c.n(h),d=c(55),O=c(16),u=c(56),x=c.n(u),m=function(e){var t=Object(r.useState)("Idle"),c=Object(O.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)(null),s=Object(O.a)(i,2),j=s[0],l=s[1];return Object(r.useEffect)((function(){(function(){var t=Object(d.a)(b.a.mark((function t(){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a("Loading"),t.next=4,x.a.get("".concat(e));case 4:c=t.sent.data,l(c),a("Loaded"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a("Error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),{state:n,data:j}},f="",p=c(14),v=c(149),y=c(65),g=c(26),A=c(6),P=c(34),w=c(33),L=c(1),k=function(e){var t=e.hierarchy,c=e.hideRoot,r=void 0!==c&&c,n="",a="";return Object(L.jsx)("nav",{"aria-label":"Breadcrumb",children:Object(L.jsxs)("ol",{children:[!r&&Object(L.jsxs)("li",{children:[Object(L.jsxs)(A.b,{title:"Root-level entities",to:"/ROOT",children:[Object(L.jsx)(j.b,{})," Root"]}),t.length>1&&Object(L.jsx)("span",{role:"separator",children:Object(L.jsx)(w.a,{})})]}),t.slice(1).map((function(e,c){return n+="/"+e.name.replaceAll(" ","_"),a=e.name,Object(L.jsxs)("li",{children:["folder"===e.type?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(P.b,{})," \xa0"]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(P.a,{})," \xa0"]}),Object(L.jsx)(A.b,{title:"Link to ".concat(a),to:n,children:a}),c+2!==t.length&&Object(L.jsx)("span",{role:"separator",children:Object(L.jsx)(w.a,{})})]},"hierarchy-".concat(c))}))]})})},F=c(60),_=c(148),R=c(146),S=c(147),C=c(61),N=c.n(C),I=function(e){return Object(_.a)(Object(R.a)(e))},H=function(e){return Object(S.a)(Object(R.a)(e),"h:mmaaa 'on' LLLL do yyyy")},T=function(e){return e.replaceAll(" ","_")},E=function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];return t.filter(Boolean).join(" ")},D=(c(100),function(e){var t=e.modifiedDate,c=e.committedDate,r=t,n="modified";return c&&(r=c,n="committed"),Object(L.jsx)("footer",{children:Object(L.jsxs)("p",{children:[r&&Object(L.jsxs)(L.Fragment,{children:["Last ",n," ",I(r)," ago, at"," ",H(r),Object(L.jsx)("br",{})]}),Object(L.jsxs)("a",{href:"https://github.com/afreeorange/bock",title:"Powered by Bock",children:[Object(L.jsx)(l.a,{})," v",F.version]})]})})}),M=c(39),B=function(e){var t=e.articlePath,c=e.revisionList,n=Object(o.j)("/:maybeArticlePath+/revisions"),a=Object(o.g)(),i=Object(r.useState)([]),s=Object(O.a)(i,2),j=s[0],l=s[1];return Object(L.jsxs)("div",{className:"revision-list",children:[c.map((function(e){return Object(L.jsx)("section",{children:Object(L.jsxs)("label",{htmlFor:"revision-".concat(e.id),children:[Object(L.jsx)("input",{disabled:1===c.length,type:"checkbox",id:"revision-".concat(e.id),value:e.id,onChange:function(e){return function(e){var t=Object(M.a)(j);0===j.length?t.push(e):1===j.length?j.includes(e)?t=Object(M.a)(j.filter((function(t){return t!==e}))):t.push(e):(t.pop(),j.includes(e)||t.push(e)),l(t)}(e.currentTarget.value)},checked:j.includes(e.id)}),Object(L.jsx)(A.b,{to:"/".concat(t,"/revisions/").concat(e.id),children:e.id}),Object(L.jsx)("p",{children:e.message}),Object(L.jsx)("p",{children:Object(L.jsxs)("small",{children:[Object(L.jsx)("a",{href:"mailto:".concat(e.email),children:e.author}),", ",I(e.committed)," ago, at"," ",H(e.committed)]})})]})},"revision-wrapper-".concat(e.id))})),Object(L.jsx)("button",{type:"submit",disabled:j.length<2,onClick:function(){return a.push("/".concat(null===n||void 0===n?void 0:n.params.maybeArticlePath,"/compare?a=").concat(j[0],"&b=").concat(j[1]))},children:"Compare"})]})};c(101),c(102);v.a.registerLanguage("markdown",y.a);var J=function(e){var t,c=e.article,r=Object(o.j)("/:maybeArticlePath+/revisions"),n=Object(o.j)("/:maybeArticlePath+/raw");return t=r?Object(L.jsx)(B,{articlePath:r.params.maybeArticlePath,revisionList:c.revisions}):n?Object(L.jsx)(v.a,{language:"markdown",style:g.a,children:c.text}):Object(L.jsx)("article",{children:Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:c.html}})}),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{children:Object(L.jsx)("title",{children:c.name})}),Object(L.jsx)(k,{hierarchy:c.hierarchy}),Object(L.jsx)("header",{children:Object(L.jsx)("h1",{children:"".concat(c.name).concat(n?" - Raw":"").concat(r?" - Revisions":"")})}),t,Object(L.jsx)(D,{modifiedDate:c.modified})]})},z=function(e){var t=e.children;return Object(L.jsx)("div",{className:"container",children:t})},G=(c(128),function(e){var t=e.folder;return Object(L.jsxs)("div",{className:"folder",children:[Object(L.jsx)(p.a,{children:Object(L.jsx)("title",{children:t.name})}),Object(L.jsx)(k,{hierarchy:t.hierarchy}),t.hierarchy.length>1&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("header",{children:Object(L.jsx)("h1",{children:t.name})}),t.folder_readme.present&&Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:t.folder_readme.html}})]}),Object(L.jsx)("hr",{}),Object(L.jsxs)("div",{className:"entities",children:[t.children.folders.length>0&&Object(L.jsxs)("section",{className:"folders",children:[Object(L.jsxs)("h2",{children:["Folders ",Object(L.jsx)("span",{children:t.children.folders.length})]}),t.children.folders.map((function(e){return Object(L.jsx)("li",{children:Object(L.jsx)(A.b,{to:"/".concat(e.path),children:e.name},e.key)},e.key)}))]}),t.children.articles.length>0?Object(L.jsxs)("section",{className:"articles",children:[Object(L.jsxs)("h2",{children:["Articles ",Object(L.jsx)("span",{children:t.children.articles.length})]}),t.children.articles.map((function(e){return Object(L.jsx)("li",{children:Object(L.jsx)(A.b,{to:"/".concat(e.path),children:e.name},e.key)},e.key)}))]}):Object(L.jsx)("section",{className:"no-articles",children:"Looks like there are no articles in this folder"})]}),Object(L.jsx)(D,{})]})}),q=(c(129),function(e){var t=e.children;return Object(L.jsx)("div",{className:"message",children:t})}),K=function(e){e.children;return Object(L.jsx)(q,{children:Object(L.jsx)("h1",{children:"Loading\u2026"})})},U=function(e){e.children;return Object(L.jsxs)(q,{children:[Object(L.jsx)("h1",{children:"Oh no \ud83d\ude14"}),Object(L.jsx)("hr",{}),Object(L.jsx)("p",{children:"Something appears to have gone terribly wrong."})]})},Y=c(67),Q=function(e){e.children;return Object(L.jsxs)(q,{children:[Object(L.jsx)(Y.a,{style:{width:"3em",height:"3em"}}),Object(L.jsx)(L.Fragment,{children:"\xa0\xa0"}),Object(L.jsx)("h1",{children:"Random article!"})]})},V=c(68),W=c(36),X=(c(130),function(){var e,t=Object(o.j)("/search/:term"),c=Object(o.h)().pathname,r=t||me.includes(c),n=Object(o.j)("/:maybeArticlePath+"),a=Object(o.j)("/:maybeArticlePath+/raw"),i=Object(o.j)("/:maybeArticlePath+/compare"),s=Object(o.j)("/:maybeArticlePath+/revisions"),l=Object(o.j)("/:maybeArticlePath+/revisions/:revisionId"),h=Object(o.j)("/:maybeArticlePath+/revisions/:revisionId/raw");return e=h?h.params.maybeArticlePath:l?l.params.maybeArticlePath:s?s.params.maybeArticlePath:i?i.params.maybeArticlePath:a?a.params.maybeArticlePath:null===n||void 0===n?void 0:n.params.maybeArticlePath,Object(L.jsx)("nav",{"aria-label":"main",children:Object(L.jsxs)("ul",{children:[ue.map((function(e){return Object(L.jsx)("li",{children:Object(L.jsx)(A.c,{className:E(e.href===c?"active":""),title:e.title,to:e.href,children:e.icon},e.name)})})),!r&&n&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("li",{children:Object(L.jsx)(A.c,{activeClassName:"active",exact:!0,title:"Revisions",to:"/".concat(e,"/revisions"),children:Object(L.jsx)(V.a,{})})}),!a&&!l&&!i&&Object(L.jsx)("li",{children:Object(L.jsx)(A.c,{activeClassName:"active",exact:!0,title:"Raw article",to:"/".concat(e,"/raw"),children:Object(L.jsx)(W.a,{})})}),!a&&l&&Object(L.jsx)("li",{children:Object(L.jsx)(A.c,{activeClassName:"active",exact:!0,title:"Raw article",to:"/".concat(l.params.maybeArticlePath,"/revisions/").concat(l.params.revisionId,"/raw"),children:Object(L.jsx)(W.a,{})})}),a&&!h&&Object(L.jsx)("li",{children:Object(L.jsx)(A.c,{activeClassName:"active",exact:!0,title:"Article revision ",to:"/".concat(e),children:Object(L.jsx)(j.a,{})})}),a&&h&&Object(L.jsx)("li",{children:Object(L.jsx)(A.c,{activeClassName:"active",exact:!0,title:"Article revision source",to:"/".concat(h.params.maybeArticlePath,"/revisions/").concat(h.params.revisionId),children:Object(L.jsx)(j.a,{})})})]})]})})}),Z=function(){var e,t=Object(o.i)(),c=t.maybeArticlePath,r=t.revisionId,n=function(e,t){return m("".concat(f,"/api/articles/").concat(e,"/revisions/").concat(t))}(c,r),a=n.state,i=n.data,s=Object(o.j)("/:maybeArticlePath+/revisions/:revisionId/raw");return"Loaded"===a&&i?(e=s?Object(L.jsx)(v.a,{language:"markdown",style:g.a,children:i.text}):Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:i.html}}),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{children:Object(L.jsx)("title",{children:"".concat(i.name," - Revision ").concat(r.slice(0,8))})}),Object(L.jsx)(k,{hierarchy:i.hierarchy}),Object(L.jsx)("header",{children:Object(L.jsxs)("h1",{children:[i.name," ",Object(L.jsxs)("span",{children:["Revision ",r.slice(0,8)]}),s&&Object(L.jsx)("span",{children:"Raw"})]})}),Object(L.jsx)("article",{children:e}),Object(L.jsx)(D,{committedDate:i.committed})]})):"Error"===a?Object(L.jsx)(U,{}):Object(L.jsx)(K,{})},$=(c(131),function(e){var t=e.split("/");return 1===t.length?e:Object(L.jsx)(L.Fragment,{children:t.map((function(e,c){return Object(L.jsxs)(L.Fragment,{children:[e,c+1!==t.length&&Object(L.jsx)("span",{children:"\xa0\xa0\u2192\xa0\xa0"})]})}))})}),ee=function(){var e=m("".concat(f,"/api/articles/all")),t=e.state,c=e.data,n=Object(r.useState)(null),a=Object(O.a)(n,2),i=a[0],s=a[1];Object(r.useEffect)((function(){s(c)}),[c]);return"Loaded"===t&&c?Object(L.jsxs)("div",{className:"articles",children:[Object(L.jsx)(p.a,{children:Object(L.jsx)("title",{children:"List of Articles"})}),Object(L.jsx)("header",{children:Object(L.jsxs)("h1",{children:["Articles ",Object(L.jsx)("span",{children:null===c||void 0===c?void 0:c.count})]})}),Object(L.jsx)("form",{role:"search",children:Object(L.jsx)("input",{type:"search",autoFocus:!0,onChange:function(e){return function(e){if(e.length>2){var t=i.articles.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),r={articles:t,count:null===t||void 0===t?void 0:t.length};s(r)}else s(c)}(e.target.value)}})}),0===i.articles.length?Object(L.jsx)("h1",{children:"Got nothing with that term yo..."}):Object(L.jsx)("ul",{children:i.articles.map((function(e){return Object(L.jsx)("li",{children:Object(L.jsx)(A.b,{to:T(e.name),children:$(e.name)})},e.key)}))}),Object(L.jsx)(D,{})]}):"Error"===t?Object(L.jsx)(U,{}):Object(L.jsx)(K,{})},te=(c(132),function(e){var t=e.articleData,c=Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{children:"Looks like you don't have a \u201cHello.md\u201d\u2026"}),Object(L.jsx)("p",{children:"That's OK. Just make one and refresh!"})]});return t&&(c=Object(L.jsx)(J,{article:t})),Object(L.jsxs)("div",{className:"hello",children:[c,Object(L.jsx)("hr",{}),Object(L.jsx)(ae,{hideRoot:!0})]})}),ce=function(e){e.children;return Object(L.jsx)(q,{children:Object(L.jsx)("h1",{children:"Could not find that article or folder... sorry."})})},re=function(){var e=m("".concat(f,"/api/articles/random")),t=e.state,c=e.data,n=Object(r.useState)(!1),a=Object(O.a)(n,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){setTimeout((function(){s(!0)}),1e3)}),[]),"Loaded"===t&&c?i?Object(L.jsx)(o.a,{to:c.name}):Object(L.jsx)(Q,{}):"Error"===t?Object(L.jsx)(U,{}):Object(L.jsx)(K,{})},ne=c(69),ae=(c(133),function(e){var t=e.hideRoot,c=void 0!==t&&t,r=m("".concat(f,"/api/articles/stats")),n=r.state,a=r.data;return"Loading"===n?Object(L.jsx)(K,{}):"Error"===n?Object(L.jsx)(U,{}):Object(L.jsxs)("div",{className:"recent",children:[Object(L.jsx)("h2",{children:"Recent Updates"}),a&&a.latest.map((function(e){return Object(L.jsxs)("section",{children:[Object(L.jsx)(k,{hierarchy:e.hierarchy,hideRoot:c}),Object(L.jsxs)("p",{children:[Object(L.jsx)(ne.a,{})," ",I(e.modified)," ago,"," ",(t=e.size_in_bytes,N()(t,{base:10}))]})]},e.key);var t}))]})}),ie=c(70),se=c(38),je=(c(141),{drawFileList:!1}),le=function(e){var t,c,r,n,a=e.articlePath,i=e.a,j=e.b,l=(t=a,c=i,r=j,m("".concat(f,"/api/articles/").concat(t,"/compare?a=").concat(c,"&b=").concat(r))),o=l.state,h=l.data;return"Loaded"===o&&h?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{children:Object(L.jsx)("title",{children:"Comparing Revisions"})}),Object(L.jsxs)("h1",{children:[(n=a,n.split("/").slice(-1)[0].replace(/_/g," "))," - Comparing Revisions"]}),Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:se.a(h,Object(s.a)(Object(s.a)({},je),{},{outputFormat:"side-by-side"}))}}),Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:se.a(h,je)}})]}):"Error"===o?Object(L.jsx)("h1",{children:"Could not compare with those SHAs... :/"}):Object(L.jsx)(K,{})},oe=function(){var e=Object(o.j)("/:maybeArticlePath+/compare"),t=Object(o.h)(),c=ie.parse(t.search);return!("a"in c)&&!("b"in c)||""===c.a.trim()||""===c.b.trim()?Object(L.jsx)("h1",{children:"You must give me two SHAs"}):Object(L.jsx)(le,{articlePath:null===e||void 0===e?void 0:e.params.maybeArticlePath,a:c.a,b:c.b})},he=(c(142),function(e){var t=e.term,c=function(e){return m("".concat(f,"/api/search/").concat(e))}(t),r=c.state,n=c.data;return n?Object(L.jsx)("div",{className:"search-results",children:0===n.count?Object(L.jsxs)("h2",{children:["Could not find anything with \u201c",t,"\u201d"]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("h2",{children:["Results for \u201c",t,"\u201d ",Object(L.jsx)("span",{children:n.count})]}),null===n||void 0===n?void 0:n.results.map((function(e){return Object(L.jsxs)("section",{children:[Object(L.jsx)("h3",{children:Object(L.jsx)(A.b,{to:"/".concat(T(e.path)),children:e.name})}),Object(L.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content_matches}})]})}))]})}):"Error"===r?Object(L.jsx)(U,{}):Object(L.jsx)(K,{})}),be=function(){var e=Object(o.i)().term,t=Object(r.useState)(e||""),c=Object(O.a)(t,2),n=c[0],a=c[1],i=Object(o.g)();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{children:Object(L.jsx)("title",{children:"Search"})}),Object(L.jsx)("header",{children:Object(L.jsx)("h1",{children:"Search"})}),Object(L.jsxs)("form",{role:"search",onSubmit:function(e){return function(e){e.preventDefault(),i.push("/search/".concat(n))}(e)},children:[Object(L.jsx)("input",{autoFocus:!0,value:n,onChange:function(e){return a(e.target.value)},placeholder:"three characters"}),Object(L.jsx)("button",{type:"submit",disabled:n.length<3,children:"go"})]}),e&&e.length>=3&&Object(L.jsx)(he,{term:e}),Object(L.jsx)(D,{})]})},de=function(e){var t,c=e.entityPath,r=(t=T(c),m("".concat(f,"/api/articles/").concat(t))),n=r.state,a=r.data;return a||"Error"!==n?a&&"Loaded"===n?"Hello"===c?Object(L.jsx)(te,{articleData:a}):"file"===a.type?Object(L.jsx)(J,{article:a}):Object(L.jsx)(G,{folder:a}):Object(L.jsx)(K,{}):Object(L.jsx)(ce,{})},Oe=function(){var e=Object(o.i)().maybeArticlePath;return(e=e||"").includes(" ")?Object(L.jsx)(o.a,{to:"/".concat(e.replace(" ","_"))}):Object(L.jsx)(de,{entityPath:e})},ue=[{name:"Search",title:"Search this site",href:"/search",icon:Object(L.jsx)(j.d,{})},{name:"Home",title:"Go to this wiki's homepage",href:"/Hello",icon:Object(L.jsx)(j.c,{})},{name:"Articles",title:"List of all articles in this wiki",href:"/articles",icon:Object(L.jsx)(l.c,{})},{name:"Random",title:"Roll the dice!",href:"/random",icon:Object(L.jsx)(l.b,{})}],xe={"/search/:term":Object(L.jsx)(be,{}),"/search":Object(L.jsx)(be,{}),"/articles":Object(L.jsx)(ee,{}),"/recent":Object(L.jsx)(ae,{}),"/random":Object(L.jsx)(re,{}),"/ROOT":Object(L.jsx)(Oe,{})},me=Object.keys(xe),fe=Object(s.a)(Object(s.a)({},xe),{},{"/:maybeArticlePath+/revisions/:revisionId/raw":Object(L.jsx)(Z,{}),"/:maybeArticlePath+/revisions/:revisionId":Object(L.jsx)(Z,{}),"/:maybeArticlePath+/revisions":Object(L.jsx)(Oe,{}),"/:maybeArticlePath+/compare":Object(L.jsx)(oe,{}),"/:maybeArticlePath+/raw":Object(L.jsx)(Oe,{}),"/:maybeArticlePath+":Object(L.jsx)(Oe,{})}),pe=(c(143),function(){return Object(L.jsx)(A.a,{children:Object(L.jsxs)(z,{children:[Object(L.jsx)(X,{}),Object(L.jsxs)(o.d,{children:[Object.keys(fe).map((function(e,t){return Object(L.jsx)(o.b,{path:e,exact:!0,children:fe[e]},"".concat("bock","-").concat(t))})),Object(L.jsx)(o.a,{from:"/",to:"/Hello"})]})]})})}),ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,150)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),r(e),n(e),a(e),i(e)}))};i.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(pe,{})}),document.getElementById("root")),ve()},60:function(e){e.exports=JSON.parse('{"name":"bock-ui","version":"3.2.0","private":true,"dependencies":{"@craco/craco":"^6.1.2","@headlessui/react":"^1.2.0","@heroicons/react":"^1.0.1","axios":"^0.21.1","date-fns":"^2.21.1","diff2html":"^3.4.3","filesize":"^6.3.0","lodash":"^4.17.21","query-string":"^7.0.0","react":"^17.0.2","react-dom":"^17.0.2","react-helmet":"^6.1.0","react-icons":"^4.2.0","react-router":"^5.2.0","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-syntax-highlighter":"^15.4.3","typescript":"^4.1.2","web-vitals":"^1.0.1"},"scripts":{"start":"craco start","build":"craco build && rm -rf cached_dist && mv build cached_dist","test":"craco test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/diff2html":"^3.0.0","@types/jest":"^26.0.15","@types/node":"^12.0.0","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@types/react-helmet":"^6.1.1","@types/react-router-dom":"^5.1.7","@types/react-syntax-highlighter":"^13.5.0","autoprefixer":"^9","postcss":"^7"}}')}},[[144,1,2]]]);
//# sourceMappingURL=main.chunk.js.map