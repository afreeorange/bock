{"version":3,"sources":["hooks/api.ts","constants.ts","components/Hierarchy.tsx","helpers.ts","components/Footer.tsx","components/RevisionList.tsx","components/Article.tsx","components/Container.tsx","components/Folder.tsx","components/Message.tsx","components/Loading.tsx","components/Oops.tsx","components/SpinningDice.tsx","components/Nav.tsx","pages/Revision.tsx","hooks/app.ts","pages/Articles.tsx","pages/Hello.tsx","components/NotFound.tsx","pages/Random.tsx","pages/Recent.tsx","pages/Compare.tsx","pages/Search.tsx","Router.tsx","Routes.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["useAPI","endpoint","useState","state","setState","data","setData","useEffect","a","axios","get","ret","fetch","APP_URI","UPSTREAM_ENDPOINT","Component","hierarchy","hideRoot","glom","label","aria-label","title","to","length","role","slice","map","h","idx","name","replaceAll","type","humanReadableRelative","isoDate","formatDistanceToNow","parseISO","humanReadable","format","linkFromPath","path","classNames","classes","filter","Boolean","join","modifiedDate","committedDate","date","text","href","packageJson","version","RevisionList","articlePath","revisionList","match","useRouteMatch","history","useHistory","revs","setRevs","className","revision","htmlFor","id","disabled","value","onChange","e","rid","update","push","includes","_","pop","handleCompare","currentTarget","checked","message","email","author","committed","onClick","params","maybeArticlePath","SyntaxHighlighter","registerLanguage","md","article","isRevisions","isRaw","revisions","language","style","theme","dangerouslySetInnerHTML","__html","html","Helmet","property","content","excerpt","Hierarchy","modified","children","folder","folder_readme","present","folders","articles","key","Nav","articleRoute","term","pathname","useLocation","non","nonArticleRoutes","base","raw","compare","revisionRaw","baseNavigationLinks","item","icon","activeClassName","exact","revisionId","useParams","useRevision","Oops","Loading","refineArticleDisplay","fragments","split","f","list","setList","count","autoFocus","toLowerCase","handleChange","target","articleData","dummy","dummyDone","setTimeout","latest","bytes","size_in_bytes","filesize","diff2HtmlConfiguration","drawFileList","SafeComparison","shaA","shaB","useCompare","b","replace","Diff2Html","outputFormat","location","q","QueryString","search","trim","Results","useSearch","results","r","content_matches","Search","searchTerm","setSearchTerm","onSubmit","preventDefault","submitHandler","placeholder","EntityRouter","entityPath","NotFound","PreparePath","nonArticleRouteMap","Random","Router","Object","keys","RouteMap","Revision","App","Container","k","i","from","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qgBAqCeA,EA3BA,SAAIC,GACjB,MAA0BC,mBAAgB,QAA1C,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAmB,MAA3C,mBAAOG,EAAP,KAAaC,EAAb,KAmBA,OAjBAC,qBAAU,YACG,uCAAG,4BAAAC,EAAA,sEAEVJ,EAAS,WAFC,SAISK,IAAMC,IAAN,UAAaT,IAJtB,OAIJU,EAJI,OAImCN,KAC7CC,EAAQK,GAERP,EAAS,UAPC,gDASVA,EAAS,SATC,yDAAH,qDAaXQ,KACC,CAACX,IAEG,CACLE,QACAE,SC7BSQ,EAAU,wBAEVC,EAAmC,G,+DCuDjCC,EAlDV,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,UAAkC,IAAvBC,gBAAuB,SACpCC,EAAO,GACPC,EAAQ,GAEZ,OACE,qBAAKC,aAAW,YAAhB,SACE,gCACIH,GACA,+BACE,eAAC,IAAD,CAAMI,MAAK,sBAAyBC,GAAI,QAAxC,UACE,cAAC,IAAD,IADF,WAGCN,EAAUO,OAAS,GAClB,sBAAMC,KAAK,YAAX,SACE,cAAC,IAAD,SAKPR,EAAUS,MAAM,GAAGC,KAAI,SAACC,EAAGC,GAI1B,OAHAV,GAAQ,IAAMS,EAAEE,KAAKC,WAAW,IAAK,KACrCX,EAAQQ,EAAEE,KAGR,+BACc,WAAXF,EAAEI,KACD,qCACE,cAAC,IAAD,IAAa,OAGf,qCACE,cAAC,IAAD,IAAW,OAGf,cAAC,IAAD,CAAMV,MAAK,kBAAaF,GAASG,GAAIJ,EAArC,SACGC,IAEFS,EAAM,IAAMZ,EAAUO,QACrB,sBAAMC,KAAK,YAAX,SACE,cAAC,IAAD,QAfN,oBAAsBI,a,4DC/BrBI,EAAwB,SAACC,GAAD,OACnCC,YAAoBC,YAASF,KAElBG,EAAgB,SAACH,GAAD,OAC3BI,YAAOF,YAASF,GAAU,8BAWfK,EAAe,SAACC,GAAD,OAAkBA,EAAKT,WAAW,IAAK,MAKtDU,EAAa,sCAAIC,EAAJ,yBAAIA,EAAJ,uBACxBA,EAAQC,OAAOC,SAASC,KAAK,MCgBhB7B,G,OA3BG,SAAC,GAA4C,IAA1C8B,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,cAC7BC,EAAOF,EACPG,EAAO,WAOX,OALIF,IACFC,EAAOD,EACPE,EAAO,aAIP,iCACE,8BACGD,GACC,6CACQC,EADR,IACehB,EAAsBe,GADrC,WACoD,IACjDX,EAAcW,GACd,IAAI,cAAC,IAAD,IAAgB,OAGzB,oBAAGE,KAAK,sCAAsC5B,MAAM,kBAApD,UACE,cAAC,IAAD,IADF,KACsB6B,EAAYC,kB,QC8C3BC,EAvEV,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aACbC,EAAQC,YAAyB,iCACjCC,EAAUC,cAEhB,EAAwBxD,mBAAmB,IAA3C,mBAAOyD,EAAP,KAAaC,EAAb,KA+BA,OACE,sBAAKC,UAAU,gBAAf,UACGP,EAAa5B,KAAI,SAACoC,GAAD,OAChB,kCACE,wBAAOC,QAAO,mBAAcD,EAASE,IAArC,UACE,uBACEC,SAAkC,IAAxBX,EAAa/B,OACvBQ,KAAK,WACLiC,GAAE,mBAAcF,EAASE,IACzBE,MAAOJ,EAASE,GAChBG,SAAU,SAACC,GAAD,OAvCA,SAACC,GACrB,IAAIC,EAAgB,YAAOX,GAEP,IAAhBA,EAAKpC,OACP+C,EAAOC,KAAKF,GACa,IAAhBV,EAAKpC,OAEVoC,EAAKa,SAASH,GAChBC,EAAM,YAAOX,EAAKjB,QAAO,SAAC+B,GAAD,OAAOA,IAAMJ,MAEtCC,EAAOC,KAAKF,IAGdC,EAAOI,MAGFf,EAAKa,SAASH,IACjBC,EAAOC,KAAKF,IAIhBT,EAAQU,GAkBmBK,CAAcP,EAAEQ,cAAcV,QAC/CW,QAASlB,EAAKa,SAASV,EAASE,MAElC,cAAC,IAAD,CAAM1C,GAAE,WAAM+B,EAAN,sBAA+BS,EAASE,IAAhD,SACGF,EAASE,KAEZ,4BAAIF,EAASgB,UACb,4BACE,kCACE,mBAAG7B,KAAI,iBAAYa,EAASiB,OAA5B,SAAsCjB,EAASkB,SAC9C,KACAhD,EAAsB8B,EAASmB,WAHlC,WAGsD,IACnD7C,EAAc0B,EAASmB,oBAnBhC,2BAAkCnB,EAASE,QA0B7C,wBAAQjC,KAAK,SAASkC,SAAUN,EAAKpC,OAAS,EAAG2D,QAlChC,kBACnBzB,EAAQc,KAAR,kBACMhB,QADN,IACMA,OADN,EACMA,EAAO4B,OAAOC,iBADpB,sBACkDzB,EAAK,GADvD,cAC+DA,EAAK,MAgClE,yB,cCzDN0B,IAAkBC,iBAAiB,WAAYC,KAE/C,IAqDexE,EAnDV,SAAC,GAAiB,IAIjBJ,EAJE6E,EAAc,EAAdA,QACAC,EAAcjC,YAAyB,iCACvCkC,EAAQlC,YAAyB,2BAyBvC,OApBE7C,EADE8E,EAEA,cAAC,EAAD,CACEpC,YAAaoC,EAAYN,OAAOC,iBAChC9B,aAAckC,EAAQG,YAGjBD,EAEP,cAAC,IAAD,CAAmBE,SAAS,WAAWC,MAAOC,IAA9C,SACGN,EAAQxC,OAKX,kCACE,qBAAK+C,wBAAyB,CAAEC,OAAQR,EAAQS,UAMpD,qCACE,eAACC,EAAA,EAAD,WACE,sBAAMC,SAAS,WAAWC,QAASZ,EAAQ3D,OAC3C,sBAAMsE,SAAS,iBAAiBC,QAASZ,EAAQa,UACjD,sBAAMF,SAAS,SAASC,QAAO,UAAKvF,EAAL,YAAgB2E,EAAQjD,QAEvD,gCAAQiD,EAAQ3D,UAGlB,cAACyE,EAAD,CAAWtF,UAAWwE,EAAQxE,YAE9B,iCACE,uCAAQwE,EAAQ3D,MAAhB,OAAuB6D,EAAQ,SAAW,IAA1C,OACED,EAAc,eAAiB,QAIlC9E,EACD,cAAC,EAAD,CAAQkC,aAAc2C,EAAQe,eC5DrBxF,EAJa,SAAC,GAAD,IAAGyF,EAAH,EAAGA,SAAH,OAC1B,qBAAK3C,UAAU,YAAf,SAA4B2C,KCkFfzF,G,OA1EG,SAAC,GAAoC,IAAlC0F,EAAiC,EAAjCA,OACnB,OACE,sBAAK5C,UAAU,SAAf,UACE,eAACqC,EAAA,EAAD,WACE,sBAAMC,SAAS,WAAWC,QAASK,EAAO5E,OAC1C,sBAAMsE,SAAS,SAASC,QAAO,UAAKvF,EAAL,YAAgB4F,EAAOlE,QAEtD,gCAAQkE,EAAO5E,UAGjB,cAACyE,EAAD,CAAWtF,UAAWyF,EAAOzF,YAE5ByF,EAAOzF,UAAUO,OAAS,GACzB,qCACE,iCACE,6BAAKkF,EAAO5E,SAEb4E,EAAOC,cAAcC,SACpB,qBACEZ,wBAAyB,CAAEC,OAAQS,EAAOC,cAAcT,WAMhE,uBAEA,sBACEpC,UAAS,kBAC4B,IAAnC4C,EAAOD,SAASI,QAAQrF,OAAe,cAAgB,IADhD,OAE8B,IAApCkF,EAAOD,SAASK,SAAStF,OAAe,eAAiB,IAH9D,UAKGkF,EAAOD,SAASI,QAAQrF,OAAS,GAChC,oCACE,0CACU,+BAAOkF,EAAOD,SAASI,QAAQrF,YAEzC,6BACGkF,EAAOD,SAASI,QAAQlF,KAAI,SAAC+E,GAAD,OAC3B,6BACE,cAAC,IAAD,CAAMnF,GAAE,WAAMmF,EAAOlE,MAArB,SACGkE,EAAO5E,MADwB4E,EAAOK,MADlCL,EAAOK,aAUvBL,EAAOD,SAASK,SAAStF,OAAS,EACjC,oCACE,2CACW,+BAAOkF,EAAOD,SAASK,SAAStF,YAE3C,6BACGkF,EAAOD,SAASK,SAASnF,KAAI,SAAC8D,GAAD,OAC5B,6BACE,cAAC,IAAD,CAAMlE,GAAE,WAAMkE,EAAQjD,MAAtB,SACGiD,EAAQ3D,MADwB2D,EAAQsB,MADpCtB,EAAQsB,aASvB,yFAIJ,cAAC,EAAD,SCxES/F,G,OAJa,SAAC,GAAD,IAAGyF,EAAH,EAAGA,SAAH,OAC1B,qBAAK3C,UAAU,UAAf,SAA0B2C,MCKbzF,EANa,SAAC,GAAD,EAAGyF,SAAH,OAC1B,cAAC,EAAD,UACE,kDCMWzF,EARa,SAAC,GAAD,EAAGyF,SAAH,OAC1B,eAAC,EAAD,WACE,oDACA,uBACA,mF,QCOWzF,G,OARa,SAAC,GAAD,EAAGyF,SAAH,OAC1B,eAAC,EAAD,WACE,cAAC,IAAD,CAAsB3C,UAAU,gBAChC,gDACA,sD,gBC0HWkD,G,OAzHO,WACpB,IAAIC,EAEEC,EAAOzD,YAAyB,iBAC9B0D,EAAaC,cAAbD,SACFE,EAAMH,GAAQI,GAAiB7C,SAAS0C,GAExCI,EAAO9D,YAAyB,uBAChC+D,EAAM/D,YAAyB,2BAC/BgE,EAAUhE,YAAyB,+BACnCmC,EAAYnC,YAAyB,iCACrCM,EAAWN,YAIf,6CACIiE,EAAcjE,YAIlB,iDAgBF,OAbEwD,EADES,EACaA,EAAYtC,OAAOC,iBACzBtB,EACMA,EAASqB,OAAOC,iBACtBO,EACMA,EAAUR,OAAOC,iBACvBoC,EACMA,EAAQrC,OAAOC,iBACrBmC,EACMA,EAAIpC,OAAOC,iBAEd,OAAGkC,QAAH,IAAGA,OAAH,EAAGA,EAAMnC,OAAOC,iBAI5B,qBAAKhE,aAAW,OAAhB,SACE,+BACGsG,GAAoBhG,KAAI,SAACiG,GAAD,OACvB,6BACE,cAAC,IAAD,CAEE9D,UAAWrB,EAAWmF,EAAK1E,OAASiE,EAAW,SAAW,IAC1D7F,MAAOsG,EAAKtG,MACZC,GAAIqG,EAAK1E,KAJX,SAMG0E,EAAKC,MALDD,EAAK9F,YAUduF,GAAOE,GACP,qCAEI,6BACE,cAAC,IAAD,CACEO,gBAAgB,SAChBC,OAAK,EACLzG,MAAM,YACNC,GAAE,WAAM0F,EAAN,cAJJ,SAME,cAAC,IAAD,SAIJO,IAAQzD,IAAa0D,GACrB,6BACE,cAAC,IAAD,CACEK,gBAAgB,SAChBC,OAAK,EACLzG,MAAM,cACNC,GAAE,WAAM0F,EAAN,QAJJ,SAME,cAAC,IAAD,SAIJO,GAAOzD,GACP,6BACE,cAAC,IAAD,CACE+D,gBAAgB,SAChBC,OAAK,EACLzG,MAAM,cACNC,GAAE,WAAMwC,EAASqB,OAAOC,iBAAtB,sBAAoDtB,EAASqB,OAAO4C,WAApE,QAJJ,SAME,cAAC,IAAD,QAILR,IAAQE,GACP,6BACE,cAAC,IAAD,CACEI,gBAAgB,SAChBC,OAAK,EACLzG,MAAM,oBACNC,GAAE,WAAM0F,GAJV,SAME,cAAC,IAAD,QAILO,GAAOE,GACN,6BACE,cAAC,IAAD,CACEI,gBAAgB,SAChBC,OAAK,EACLzG,MAAM,0BACNC,GAAE,WAAMmG,EAAYtC,OAAOC,iBAAzB,sBAAuDqC,EAAYtC,OAAO4C,YAJ9E,SAME,cAAC,IAAD,kBCjDHhH,GA9DG,WAChB,MACEiH,cADM5C,EAAR,EAAQA,iBAAkB2C,EAA1B,EAA0BA,WAM1B,ECKyB,SAAC1G,EAAe0G,GAAhB,OACzB/H,EAAM,UACDc,EADC,yBACiCO,EADjC,sBACoD0G,IDPlCE,CAAY7C,EAAmB2C,GAA/C5H,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KACTqF,EAAQlC,YACZ,iDAGF,GAAc,WAAVrD,GAAsBE,EAAM,CAC9B,IAAIM,EAGFA,EADE+E,EAEA,cAAC,IAAD,CAAmBE,SAAS,WAAWC,MAAOC,IAA9C,SACGzF,EAAK2C,OAIJ,qBAAK+C,wBAAyB,CAAEC,OAAQ3F,EAAK4F,QAGrD,IAAM5E,EAAK,UAAMhB,EAAKwB,KAAX,uBAA8BkG,EAAWtG,MAAM,EAAG,IAE7D,OACE,qCACE,eAACyE,EAAA,EAAD,WACE,sBAAMC,SAAS,WAAWC,QAAS/E,IACnC,sBAAM8E,SAAS,iBAAiBC,QAAS/E,IACzC,sBACE8E,SAAS,SACTC,QAAO,UAAKvF,EAAL,YAAgBuE,EAAhB,sBAA8C2C,KAGvD,gCAAQ1G,OAGV,cAACiF,EAAD,CAAWtF,UAAWX,EAAKW,YAE3B,iCACE,+BACGX,EAAKwB,KADR,IACc,6CAAgBkG,EAAWtG,MAAM,EAAG,MAC/CiE,GAAS,4CAId,kCAAU/E,IACV,cAAC,EAAD,CAAQmC,cAAezC,EAAK4E,eAKlC,MAAc,UAAV9E,EACK,cAAC+H,EAAD,IAGF,cAACC,EAAD,KE1DIC,I,OAAuB,SAACvG,GACnC,IAAMwG,EAAYxG,EAAKyG,MAAM,KAE7B,OAAyB,IAArBD,EAAU9G,OACLM,EAIP,mCACGwG,EAAU3G,KAAI,SAAC6G,EAAG3G,GAAJ,OACb,qCACG2G,EACA3G,EAAM,IAAMyG,EAAU9G,QACrB,oEAmFGR,GA3Ea,WAC1B,MDtBAf,EAAM,UAA0Bc,EAA1B,sBCsBEX,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KACf,EAAwBH,mBAAsC,MAA9D,mBAAOsI,EAAP,KAAaC,EAAb,KAEAlI,qBAAU,WACRkI,EAAQpI,KACP,CAACA,IAmBJ,MAAc,WAAVF,GAAsBE,EAEtB,sBAAKwD,UAAU,WAAf,UACE,eAACqC,EAAA,EAAD,WACE,sBAAMC,SAAS,WAAWC,QAAQ,qBAClC,sBAAMD,SAAS,SAASC,QAAO,UAAKvF,EAAL,eAE/B,wDAGF,iCACE,2CACW,sCAAOR,QAAP,IAAOA,OAAP,EAAOA,EAAMqI,aAI1B,sBAAMlH,KAAK,SAAX,SACE,uBACEO,KAAK,SACL4G,WAAS,EACTxE,SAAU,SAACC,GAAD,OArCC,SAAC6C,GACpB,GAAIA,EAAK1F,OAAS,EAAG,CACnB,IAAIkD,EAAI+D,EAAM3B,SAASnE,QAAO,SAAClC,GAAD,OAC5BA,EAAEqB,KAAK+G,cAAcpE,SAASyC,EAAK2B,kBAGjCtE,EAA+B,CACjCuC,SAAUpC,EACViE,MAAK,OAAEjE,QAAF,IAAEA,OAAF,EAAEA,EAAGlD,QAGZkH,EAAQnE,QAERmE,EAAQpI,GAwBewI,CAAazE,EAAE0E,OAAO5E,YAIhB,IAA1BsE,EAAM3B,SAAStF,OACd,kEAEA,6BACGiH,EAAM3B,SAASnF,KAAI,SAAClB,GAAD,OAClB,6BACE,cAAC,IAAD,CAAMc,GAAIgB,EAAa9B,EAAEqB,MAAzB,SACGuG,GAAqB5H,EAAEqB,SAFnBrB,EAAEsG,UASjB,cAAC,EAAD,OAKQ,UAAV3G,EACK,cAAC+H,EAAD,IAGF,cAACC,EAAD,KCrEMpH,I,OApBV,SAAC,GAAqB,IAAnBgI,EAAkB,EAAlBA,YACFpI,EACF,qCACE,wFACA,yEAOJ,OAJIoI,IACFpI,EAAM,cAAC,EAAD,CAAS6E,QAASuD,KAIxB,sBAAKlF,UAAU,QAAf,UACGlD,EACD,uBACA,cAAC,GAAD,CAAQM,UAAU,SCrBTF,GANa,SAAC,GAAD,EAAGyF,SAAH,OAC1B,cAAC,EAAD,UACE,oFC8BWzF,GA9Ba,WAC1B,MJ2BAf,EAAM,UAAmBc,EAAnB,yBI3BEX,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KACf,EAA2BH,oBAAS,GAApC,mBAAO8I,EAAP,KAAcC,EAAd,KAaA,OARA1I,qBAAU,WACR2I,YAAW,WACTD,GAAU,KACT,OAGF,IAEW,WAAV9I,GAAsBE,EACnB2I,EAIE,cAAC,IAAD,CAAU1H,GAAIjB,EAAKwB,OAHjB,cAAC,EAAD,IAMG,UAAV1B,EACK,cAAC+H,EAAD,IAGF,cAACC,EAAD,KCOMpH,I,OA7BV,SAAC,GAA0B,IAAD,IAAvBE,gBAAuB,SAC7B,ELGAjB,EAAM,UAAgBc,EAAhB,wBKHEX,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KAEf,MAAc,YAAVF,EACK,cAACgI,EAAD,IAGK,UAAVhI,EACK,cAAC+H,EAAD,IAIP,sBAAKrE,UAAU,SAAf,UACE,gDACCxD,GACCA,EAAK8I,OAAOzH,KAAI,SAAClB,GAAD,OACd,oCACE,cAAC8F,EAAD,CAAWtF,UAAWR,EAAEQ,UAAWC,SAAUA,IAC7C,4BAAIT,EAAE6F,UACN,8BACE,cAAC,IAAD,IADF,IACerE,EAAsBxB,EAAE+F,UADvC,QACuD,KjBrBzC6C,EiBsBD5I,EAAE6I,cjBrBzBC,IAASF,EAAO,CAAE9B,KAAM,WiBgBF9G,EAAEsG,KjBjBD,IAACsC,U,kBkBIpBG,I,OAAyB,CAC7BC,cAAc,IAGVC,GAID,SAAC,GAA2B,IAAzBpG,EAAwB,EAAxBA,YACN,ENKwB,SAAChC,EAAeqI,EAAcC,GAA9B,OACxB3J,EAAM,UACDc,EADC,yBACiCO,EADjC,sBACoDqI,EADpD,cAC8DC,IMP5CC,CAAWvG,EADL,EAAX7C,EAAW,EAARqJ,GACd1J,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KACTgB,EAAK,UAA0BgC,ElBFhCiF,MAAM,KAAK7G,OAAO,GAAG,GAAGqI,QAAQ,KAAM,KkBEhC,0BAEX,MAAc,WAAV3J,GAAsBE,EAEtB,qCACE,eAAC6F,EAAA,EAAD,WACE,sBAAMC,SAAS,WAAWC,QAAS/E,IACnC,sBAAM8E,SAAS,WAAWC,QAAS/E,IAEnC,2DAEF,6BAAKA,IACL,qBACE0E,wBAAyB,CACvBC,OAAQ+D,KAAe1J,EAAf,2BACHkJ,IADG,IAENS,aAAc,qBAIpB,qBACEjE,wBAAyB,CACvBC,OAAQ+D,KAAe1J,EAAMkJ,UAOzB,UAAVpJ,EACK,yEAGF,cAACgI,EAAD,KA0BMpH,GAtBG,WAChB,IAAMwC,EAAQC,YAAyB,+BACjCyG,EAAW9C,cACX+C,EAAIC,SAAkBF,EAASG,QAErC,QACI,MAAOF,MAAK,MAAOA,IACM,KAA1BA,EAAE1J,EAAa6J,QACW,KAA1BH,EAAEL,EAAaQ,OAET,2DAIP,cAAC,GAAD,CACEhH,YAAW,OAAEE,QAAF,IAAEA,OAAF,EAAEA,EAAO4B,OAAOC,iBAC3B5E,EAAG0J,EAAE1J,EACLqJ,EAAGK,EAAEL,KCnEES,I,OAER,SAAC,GAAc,IAAZrD,EAAW,EAAXA,KACN,EPGuB,SAACA,GAAD,OACvBjH,EAAM,UAAmBc,EAAnB,uBAAmDmG,IOJjCsD,CAAUtD,GAA1B9G,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KAEf,OAAIA,EAEA,qBAAKwD,UAAU,iBAAf,SACkB,IAAfxD,EAAKqI,MACJ,qEAAyCzB,EAAzC,YAEA,qCACE,oDACsBA,EADtB,UACmC,+BAAO5G,EAAKqI,WAFjD,OAIGrI,QAJH,IAIGA,OAJH,EAIGA,EAAMmK,QAAQ9I,KAAI,SAAC+I,GAAD,OACjB,oCACE,6BACE,cAAC,IAAD,CAAMnJ,GAAE,WAAMgB,EAAamI,EAAElI,OAA7B,SAAuCkI,EAAE5I,SAE3C,qBAAKkE,wBAAyB,CAAEC,OAAQyE,EAAEC,8BAQxC,UAAVvK,EACK,cAAC+H,EAAD,IAIJ,cAACC,EAAD,MAGIwC,GAAmB,WAC9B,IAAQ1D,EAASe,cAATf,KACR,EAAoC/G,mBAAiB+G,GAAQ,IAA7D,mBAAO2D,EAAP,KAAmBC,EAAnB,KACMpH,EAAUC,cAOhB,OACE,qCACE,eAACwC,EAAA,EAAD,WACE,sBAAMC,SAAS,WAAWC,QAAQ,WAClC,sBAAMD,SAAS,iBAAiBC,QAAQ,oBACxC,sBAAMD,SAAS,SAASC,QAAO,UAAKvF,EAAL,aAE/B,8CAEF,iCACE,0CAEF,uBAAMW,KAAK,SAASsJ,SAAU,SAAC1G,GAAD,OAjBZ,SAACA,GACrBA,EAAE2G,iBACFtH,EAAQc,KAAR,kBAAwBqG,IAeeI,CAAc5G,IAAnD,UACE,uBACEuE,WAAS,EACTzE,MAAO0G,EACPzG,SAAU,SAACC,GAAD,OAAOyG,EAAczG,EAAE0E,OAAO5E,QACxC+G,YAAY,qBAEd,wBAAQlJ,KAAK,SAASkC,SAAU2G,EAAWrJ,OAAS,EAApD,mBAID0F,GAAQA,EAAK1F,QAAU,GAAK,cAAC,GAAD,CAAS0F,KAAMA,IAC5C,cAAC,EAAD,QCtEAiE,GAED,SAAC,GAAoB,IROA7J,EQPlB8J,EAAiB,EAAjBA,WACN,GRMwB9J,EQNUiB,EAAa6I,GRO/CnL,EAAM,UAAgBc,EAAhB,yBAAkDO,KQPhDlB,EAAR,EAAQA,MAAOE,EAAf,EAAeA,KAEf,OAAKA,GAAkB,UAAVF,EAITE,GAAkB,WAAVF,EACS,UAAfgL,EACK,cAAC,GAAD,CAAOpC,YAAa1I,IAGR,SAAdA,EAAK0B,KACV,cAAC,EAAD,CAASyD,QAASnF,IAElB,cAAC,EAAD,CAAQoG,OAAQpG,IAIb,cAAC8H,EAAD,IAfE,cAACiD,GAAD,KA8BIC,GAZe,WAC5B,IAAMjG,EAAqB4C,cAArB5C,iBAIN,OAFAA,EAAmBA,GAAoB,IAElBZ,SAAS,KACrB,cAAC,IAAD,CAAUlD,GAAE,WAAM8D,EAAiB0E,QAAQ,IAAK,QAGlD,cAAC,GAAD,CAAcqB,WAAY/F,KCrCtBsC,GAAsB,CACjC,CACE7F,KAAM,SACNR,MAAO,mBACP4B,KAAM,UACN2E,KAAM,cAAC,IAAD,KAER,CACE/F,KAAM,OACNR,MAAO,6BACP4B,KAAM,SACN2E,KAAM,cAAC,IAAD,KAER,CACE/F,KAAM,WACNR,MAAO,oCACP4B,KAAM,YACN2E,KAAM,cAAC,IAAD,KAER,CACE/F,KAAM,SACNR,MAAO,iBACP4B,KAAM,UACN2E,KAAM,cAAC,IAAD,MAUG0D,GAAsD,CACjE,gBAAiB,cAAC,GAAD,IACjB,UAAW,cAAC,GAAD,IACX,YAAa,cAAC,GAAD,IACb,UAAW,cAAC,GAAD,IACX,UAAW,cAACC,GAAD,IAKX,QAAS,cAACC,GAAD,KAGEnE,GAAmBoE,OAAOC,KAAKJ,IAY7BK,GAVgC,2BAC1CL,IAD0C,IAE7C,gDAAiD,cAACM,GAAD,IACjD,4CAA6C,cAACA,GAAD,IAC7C,gCAAiC,cAACJ,GAAD,IACjC,8BAA+B,cAAC,GAAD,IAC/B,0BAA2B,cAACA,GAAD,IAC3B,sBAAuB,cAACA,GAAD,MCjCVK,I,OAhBO,kBACpB,cAAC,IAAD,UACE,eAACC,EAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACGL,OAAOC,KAAKC,IAAUjK,KAAI,SAACqK,EAAGC,GAAJ,OACzB,cAAC,IAAD,CAAgCzJ,KAAMwJ,EAAGjE,OAAK,EAA9C,SACG6D,GAASI,IADZ,UxBjBc,OwBiBd,YAA2BC,OAI7B,cAAC,IAAD,CAAUC,KAAK,IAAI3K,GAAG,qBCTf4K,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n\nimport { State } from \"../types\";\n\nexport type HookResponse<T> = {\n  state: State;\n  data: T | null;\n};\n\nconst useAPI = <T>(endpoint: string): HookResponse<T> => {\n  const [state, setState] = useState<State>(\"Idle\");\n  const [data, setData] = useState<T | null>(null);\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        setState(\"Loading\");\n\n        const ret = (await axios.get(`${endpoint}`)).data;\n        setData(ret as T);\n\n        setState(\"Loaded\");\n      } catch (e) {\n        setState(\"Error\");\n      }\n    };\n\n    fetch();\n  }, [endpoint]);\n\n  return {\n    state,\n    data,\n  };\n};\n\nexport default useAPI;\n","const { REACT_APP_CI } = process.env;\n\nexport const APP_NAME = \"bock\";\n\nexport const APP_URI = \"http://wiki.nikhil.io\";\n\nexport const UPSTREAM_ENDPOINT = REACT_APP_CI ? \"\" : \"http://localhost:8000\";\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FiFolder, FiFile } from \"react-icons/fi\";\nimport { BiGitBranch } from \"react-icons/bi\";\nimport { IoIosArrowForward } from \"react-icons/io\";\n\nimport { Hierarchy } from \"../types\";\n\nconst Component: React.FC<{\n  hierarchy: Hierarchy;\n  hideRoot?: boolean;\n}> = ({ hierarchy, hideRoot = false }) => {\n  let glom = \"\";\n  let label = \"\";\n\n  return (\n    <nav aria-label=\"Hierarchy\">\n      <ol>\n        {!hideRoot && (\n          <li>\n            <Link title={`Root-level entities`} to={\"/ROOT\"}>\n              <BiGitBranch /> Root\n            </Link>\n            {hierarchy.length > 1 && (\n              <span role=\"separator\">\n                <IoIosArrowForward />\n              </span>\n            )}\n          </li>\n        )}\n        {hierarchy.slice(1).map((h, idx) => {\n          glom += \"/\" + h.name.replaceAll(\" \", \"_\");\n          label = h.name;\n\n          return (\n            <li key={`hierarchy-${idx}`}>\n              {h.type === \"folder\" ? (\n                <>\n                  <FiFolder />{\" \"}\n                </>\n              ) : (\n                <>\n                  <FiFile />{\" \"}\n                </>\n              )}\n              <Link title={`Link to ${label}`} to={glom}>\n                {label}\n              </Link>\n              {idx + 2 !== hierarchy.length && (\n                <span role=\"separator\">\n                  <IoIosArrowForward />\n                </span>\n              )}\n            </li>\n          );\n        })}\n      </ol>\n    </nav>\n  );\n};\n\nexport default Component;\n","import { parseISO, formatDistanceToNow, format } from \"date-fns\";\nimport filesize from \"filesize\";\nimport { HierarchyAtom } from \"./types\";\n\nexport const humanReadableRelative = (isoDate: string): string =>\n  formatDistanceToNow(parseISO(isoDate));\n\nexport const humanReadable = (isoDate: string): string =>\n  format(parseISO(isoDate), \"h:mmaaa 'on' LLLL do yyyy\");\n\nexport const humanSize = (bytes: number): string =>\n  filesize(bytes, { base: 10 });\n\nexport const linkFromHierarchy = (hierarchy: HierarchyAtom[]) =>\n  hierarchy\n    .slice(1)\n    .map((_) => _.name.replaceAll(\" \", \"_\"))\n    .join(\"/\");\n\nexport const linkFromPath = (path: string) => path.replaceAll(\" \", \"_\");\n\nexport const articleNameFromPath = (path: string) =>\n  path.split(\"/\").slice(-1)[0].replace(/_/g, \" \");\n\nexport const classNames = (...classes: string[]) =>\n  classes.filter(Boolean).join(\" \");\n","import React from \"react\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { IoBeerOutline } from \"react-icons/io5\";\n\nimport packageJson from \"../../package.json\";\nimport { humanReadable, humanReadableRelative } from \"../helpers\";\n\nimport \"./Footer.css\";\n\ntype Props = {\n  modifiedDate?: string;\n  committedDate?: string;\n};\n\nconst Component = ({ modifiedDate, committedDate }: Props) => {\n  let date = modifiedDate;\n  let text = \"modified\";\n\n  if (committedDate) {\n    date = committedDate;\n    text = \"committed\";\n  }\n\n  return (\n    <footer>\n      <p>\n        {date && (\n          <>\n            Last {text} {humanReadableRelative(date)} ago, at{\" \"}\n            {humanReadable(date)}\n            {\" \"}<BsThreeDots />{\" \"}\n          </>\n        )}\n        <a href=\"https://github.com/afreeorange/bock\" title=\"Powered by Bock\">\n          <IoBeerOutline /> v{packageJson.version}\n        </a>\n      </p>\n    </footer>\n  );\n};\n\nexport default Component;\n","import React, { useState } from \"react\";\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\n\nimport { MaybePath, RevisionMeta } from \"../types\";\nimport { humanReadable, humanReadableRelative } from \"../helpers\";\n\nexport const RevisionList: React.FC<{\n  articlePath: string;\n  revisionList: RevisionMeta[];\n}> = ({ articlePath, revisionList }) => {\n  const match = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/revisions\");\n  const history = useHistory();\n\n  const [revs, setRevs] = useState<string[]>([]);\n\n  const handleCompare = (rid: string) => {\n    let update: string[] = [...revs];\n\n    if (revs.length === 0) {\n      update.push(rid);\n    } else if (revs.length === 1) {\n      // Remove the Revision ID if it's already there!\n      if (revs.includes(rid)) {\n        update = [...revs.filter((_) => _ !== rid)];\n      } else {\n        update.push(rid);\n      }\n    } else {\n      update.pop();\n\n      // Only push an ID that's not already there.\n      if (!revs.includes(rid)) {\n        update.push(rid);\n      }\n    }\n\n    setRevs(update);\n  };\n\n  const handleSubmit = () =>\n    history.push(\n      `/${match?.params.maybeArticlePath}/compare?a=${revs[0]}&b=${revs[1]}`\n    );\n\n  return (\n    <div className=\"revision-list\">\n      {revisionList.map((revision) => (\n        <section key={`revision-wrapper-${revision.id}`}>\n          <label htmlFor={`revision-${revision.id}`}>\n            <input\n              disabled={revisionList.length === 1}\n              type=\"checkbox\"\n              id={`revision-${revision.id}`}\n              value={revision.id}\n              onChange={(e) => handleCompare(e.currentTarget.value)}\n              checked={revs.includes(revision.id)}\n            />\n            <Link to={`/${articlePath}/revisions/${revision.id}`}>\n              {revision.id}\n            </Link>\n            <p>{revision.message}</p>\n            <p>\n              <small>\n                <a href={`mailto:${revision.email}`}>{revision.author}</a>\n                {\", \"}\n                {humanReadableRelative(revision.committed)} ago, at{\" \"}\n                {humanReadable(revision.committed)}\n              </small>\n            </p>\n          </label>\n        </section>\n      ))}\n\n      <button type=\"submit\" disabled={revs.length < 2} onClick={handleSubmit}>\n        Compare\n      </button>\n    </div>\n  );\n};\n\nexport default RevisionList;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { Light as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport md from \"react-syntax-highlighter/dist/esm/languages/hljs/markdown\";\nimport theme from \"react-syntax-highlighter/dist/esm/styles/hljs/github-gist\";\n\nimport Hierarchy from \"./Hierarchy\";\nimport Footer from \"./Footer\";\nimport RevisionList from \"./RevisionList\";\nimport { Article, MaybePath } from \"../types\";\n\nimport \"./Article.css\";\nimport \"./CodeHighlight.css\";\nimport { APP_URI } from \"../constants\";\n\nSyntaxHighlighter.registerLanguage(\"markdown\", md);\n\nconst Component: React.FC<{\n  article: Article;\n}> = ({ article }) => {\n  const isRevisions = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/revisions\");\n  const isRaw = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/raw\");\n\n  let ret;\n\n  if (isRevisions) {\n    ret = (\n      <RevisionList\n        articlePath={isRevisions.params.maybeArticlePath!}\n        revisionList={article.revisions}\n      />\n    );\n  } else if (isRaw) {\n    ret = (\n      <SyntaxHighlighter language=\"markdown\" style={theme}>\n        {article.text}\n      </SyntaxHighlighter>\n    );\n  } else {\n    ret = (\n      <article>\n        <div dangerouslySetInnerHTML={{ __html: article.html }} />\n      </article>\n    );\n  }\n\n  return (\n    <>\n      <Helmet>\n        <meta property=\"og:title\" content={article.name} />\n        <meta property=\"og:description\" content={article.excerpt} />\n        <meta property=\"og:url\" content={`${APP_URI}/${article.path}`} />\n\n        <title>{article.name}</title>\n      </Helmet>\n\n      <Hierarchy hierarchy={article.hierarchy} />\n\n      <header>\n        <h1>{`${article.name}${isRaw ? \" - Raw\" : \"\"}${\n          isRevisions ? \" - Revisions\" : \"\"\n        }`}</h1>\n      </header>\n\n      {ret}\n      <Footer modifiedDate={article.modified} />\n    </>\n  );\n};\n\nexport default Component;\n","import React from \"react\";\n\nconst Component: React.FC = ({ children }) => (\n  <div className=\"container\">{children}</div>\n);\n\nexport default Component;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"react-router-dom\";\n\nimport { Footer } from \".\";\nimport { Folder } from \"../types\";\nimport Hierarchy from \"./Hierarchy\";\nimport { APP_URI } from \"../constants\";\n\nimport \"./Folder.css\";\n\nconst Component = ({ folder }: { folder: Folder }) => {\n  return (\n    <div className=\"folder\">\n      <Helmet>\n        <meta property=\"og:title\" content={folder.name} />\n        <meta property=\"og:url\" content={`${APP_URI}/${folder.path}`} />\n\n        <title>{folder.name}</title>\n      </Helmet>\n\n      <Hierarchy hierarchy={folder.hierarchy} />\n\n      {folder.hierarchy.length > 1 && (\n        <>\n          <header>\n            <h1>{folder.name}</h1>\n          </header>\n          {folder.folder_readme.present && (\n            <div\n              dangerouslySetInnerHTML={{ __html: folder.folder_readme.html }}\n            />\n          )}\n        </>\n      )}\n\n      <hr />\n\n      <div\n        className={`entities${\n          folder.children.folders.length === 0 ? \" no-folders\" : \"\"\n        }${folder.children.articles.length === 0 ? \" no-articles\" : \"\"}`}\n      >\n        {folder.children.folders.length > 0 && (\n          <section>\n            <h2>\n              Folders <span>{folder.children.folders.length}</span>\n            </h2>\n            <ul>\n              {folder.children.folders.map((folder) => (\n                <li key={folder.key}>\n                  <Link to={`/${folder.path}`} key={folder.key}>\n                    {folder.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </section>\n        )}\n\n        {folder.children.articles.length > 0 ? (\n          <section>\n            <h2>\n              Articles <span>{folder.children.articles.length}</span>\n            </h2>\n            <ul>\n              {folder.children.articles.map((article) => (\n                <li key={article.key}>\n                  <Link to={`/${article.path}`} key={article.key}>\n                    {article.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </section>\n        ) : (\n          <section>Looks like there are no articles in this folder</section>\n        )}\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport \"./Message.css\";\n\nconst Component: React.FC = ({ children }) => (\n  <div className=\"message\">{children}</div>\n);\n\nexport default Component;\n","import React from \"react\";\n\nimport Message from \"./Message\";\n\nconst Component: React.FC = ({ children }) => (\n  <Message>\n    <h1>Loading&hellip;</h1>\n  </Message>\n);\n\nexport default Component;\n","import React from \"react\";\n\nimport Message from \"./Message\";\n\nconst Component: React.FC = ({ children }) => (\n  <Message>\n    <h1>Oh no 😔</h1>\n    <hr />\n    <p>Something appears to have gone terribly wrong.</p>\n  </Message>\n);\n\nexport default Component;\n","import React from \"react\";\nimport { GiDiceTwentyFacesOne } from \"react-icons/gi\";\n\nimport Message from \"./Message\";\n\nimport \"./SpinningDice.css\";\n\nconst Component: React.FC = ({ children }) => (\n  <Message>\n    <GiDiceTwentyFacesOne className=\"rotate dice\" />\n    <>&nbsp;&nbsp;</>\n    <h1>Random article!</h1>\n  </Message>\n);\n\nexport default Component;\n","import React from \"react\";\nimport { NavLink, useRouteMatch, useLocation } from \"react-router-dom\";\nimport { RiHistoryFill } from \"react-icons/ri\";\nimport { GoMarkdown } from \"react-icons/go\";\nimport { BiCodeAlt } from \"react-icons/bi\";\n\nimport { baseNavigationLinks, nonArticleRoutes } from \"../Routes\";\nimport { MaybePath } from \"../types\";\nimport { classNames } from \"../helpers\";\n\nimport \"./Nav.css\";\n\nconst Nav: React.FC = () => {\n  let articleRoute;\n\n  const term = useRouteMatch<MaybePath>(\"/search/:term\");\n  const { pathname } = useLocation();\n  const non = term || nonArticleRoutes.includes(pathname);\n\n  const base = useRouteMatch<MaybePath>(\"/:maybeArticlePath+\");\n  const raw = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/raw\");\n  const compare = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/compare\");\n  const revisions = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/revisions\");\n  const revision = useRouteMatch<\n    MaybePath & {\n      revisionId: string;\n    }\n  >(\"/:maybeArticlePath+/revisions/:revisionId\");\n  const revisionRaw = useRouteMatch<\n    MaybePath & {\n      revisionId: string;\n    }\n  >(\"/:maybeArticlePath+/revisions/:revisionId/raw\");\n\n  if (revisionRaw) {\n    articleRoute = revisionRaw.params.maybeArticlePath;\n  } else if (revision) {\n    articleRoute = revision.params.maybeArticlePath;\n  } else if (revisions) {\n    articleRoute = revisions.params.maybeArticlePath;\n  } else if (compare) {\n    articleRoute = compare.params.maybeArticlePath;\n  } else if (raw) {\n    articleRoute = raw.params.maybeArticlePath;\n  } else {\n    articleRoute = base?.params.maybeArticlePath;\n  }\n\n  return (\n    <nav aria-label=\"main\">\n      <ul>\n        {baseNavigationLinks.map((item) => (\n          <li>\n            <NavLink\n              key={item.name}\n              className={classNames(item.href === pathname ? \"active\" : \"\")}\n              title={item.title}\n              to={item.href}\n            >\n              {item.icon}\n            </NavLink>\n          </li>\n        ))}\n\n        {!non && base && (\n          <>\n            {\n              <li>\n                <NavLink\n                  activeClassName=\"active\"\n                  exact\n                  title=\"Revisions\"\n                  to={`/${articleRoute}/revisions`}\n                >\n                  <RiHistoryFill />\n                </NavLink>\n              </li>\n            }\n            {!raw && !revision && !compare && (\n              <li>\n                <NavLink\n                  activeClassName=\"active\"\n                  exact\n                  title=\"Raw article\"\n                  to={`/${articleRoute}/raw`}\n                >\n                  <GoMarkdown />\n                </NavLink>\n              </li>\n            )}\n            {!raw && revision && (\n              <li>\n                <NavLink\n                  activeClassName=\"active\"\n                  exact\n                  title=\"Raw article\"\n                  to={`/${revision.params.maybeArticlePath}/revisions/${revision.params.revisionId}/raw`}\n                >\n                  <GoMarkdown />\n                </NavLink>\n              </li>\n            )}\n            {raw && !revisionRaw && (\n              <li>\n                <NavLink\n                  activeClassName=\"active\"\n                  exact\n                  title=\"Article revision \"\n                  to={`/${articleRoute}`}\n                >\n                  <BiCodeAlt />\n                </NavLink>\n              </li>\n            )}\n            {raw && revisionRaw && (\n              <li>\n                <NavLink\n                  activeClassName=\"active\"\n                  exact\n                  title=\"Article revision source\"\n                  to={`/${revisionRaw.params.maybeArticlePath}/revisions/${revisionRaw.params.revisionId}`}\n                >\n                  <BiCodeAlt />\n                </NavLink>\n              </li>\n            )}\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Light as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport theme from \"react-syntax-highlighter/dist/esm/styles/hljs/github-gist\";\nimport { useParams, useRouteMatch } from \"react-router-dom\";\n\nimport { Footer, Hierarchy, Loading, Oops } from \"../components\";\nimport { useRevision } from \"../hooks\";\nimport { MaybePath } from \"../types\";\nimport { APP_URI } from \"../constants\";\n\nconst Component = () => {\n  const { maybeArticlePath, revisionId } =\n    useParams<\n      MaybePath & {\n        revisionId: string;\n      }\n    >();\n  const { state, data } = useRevision(maybeArticlePath!, revisionId);\n  const isRaw = useRouteMatch<MaybePath>(\n    \"/:maybeArticlePath+/revisions/:revisionId/raw\"\n  );\n\n  if (state === \"Loaded\" && data) {\n    let ret;\n\n    if (isRaw) {\n      ret = (\n        <SyntaxHighlighter language=\"markdown\" style={theme}>\n          {data.text}\n        </SyntaxHighlighter>\n      );\n    } else {\n      ret = <div dangerouslySetInnerHTML={{ __html: data.html }} />;\n    }\n\n    const title = `${data.name} - Revision ${revisionId.slice(0, 8)}`;\n\n    return (\n      <>\n        <Helmet>\n          <meta property=\"og:title\" content={title} />\n          <meta property=\"og:description\" content={title} />\n          <meta\n            property=\"og:url\"\n            content={`${APP_URI}/${maybeArticlePath}/revisions/${revisionId}`}\n          />\n\n          <title>{title}</title>\n        </Helmet>\n\n        <Hierarchy hierarchy={data.hierarchy} />\n\n        <header>\n          <h1>\n            {data.name} <span>Revision {revisionId.slice(0, 8)}</span>\n            {isRaw && <span>Raw</span>}\n          </h1>\n        </header>\n\n        <article>{ret}</article>\n        <Footer committedDate={data.committed} />\n      </>\n    );\n  }\n\n  if (state === \"Error\") {\n    return <Oops />;\n  }\n\n  return <Loading />;\n};\n\nexport default Component;\n","import useAPI from \"./api\";\nimport { UPSTREAM_ENDPOINT } from \"../constants\";\nimport {\n  BaseEntity,\n  Revision,\n  SearchResults,\n  SimpleArticle,\n  SimpleListOfArticles,\n  Statistics,\n} from \"../types\";\n\nexport const useArticles = () =>\n  useAPI<SimpleListOfArticles>(`${UPSTREAM_ENDPOINT}/api/articles/all`);\n\nexport const useStatistics = () =>\n  useAPI<Statistics>(`${UPSTREAM_ENDPOINT}/api/articles/stats`);\n\nexport const useSearch = (term: string) =>\n  useAPI<SearchResults>(`${UPSTREAM_ENDPOINT}/api/search/${term}`);\n\nexport const useEntity = (title: string) =>\n  useAPI<BaseEntity>(`${UPSTREAM_ENDPOINT}/api/articles/${title}`);\n\nexport const useRevision = (title: string, revisionId: string) =>\n  useAPI<Revision>(\n    `${UPSTREAM_ENDPOINT}/api/articles/${title}/revisions/${revisionId}`\n  );\n\nexport const useCompare = (title: string, shaA: string, shaB: string) =>\n  useAPI<string>(\n    `${UPSTREAM_ENDPOINT}/api/articles/${title}/compare?a=${shaA}&b=${shaB}`\n  );\n\nexport const useRandom = () =>\n  useAPI<SimpleArticle>(`${UPSTREAM_ENDPOINT}/api/articles/random`);\n","import React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link } from \"react-router-dom\";\n\nimport { Footer, Loading, Oops } from \"../components\";\nimport { APP_URI } from \"../constants\";\nimport { linkFromPath } from \"../helpers\";\nimport { useArticles } from \"../hooks\";\nimport { SimpleListOfArticles } from \"../types\";\n\nimport \"./Articles.css\";\n\nexport const refineArticleDisplay = (name: string) => {\n  const fragments = name.split(\"/\");\n\n  if (fragments.length === 1) {\n    return name;\n  }\n\n  return (\n    <>\n      {fragments.map((f, idx) => (\n        <>\n          {f}\n          {idx + 1 !== fragments.length && (\n            <span>&nbsp;&nbsp;&rarr;&nbsp;&nbsp;</span>\n          )}\n        </>\n      ))}\n    </>\n  );\n};\n\nconst Component: React.FC = () => {\n  const { state, data } = useArticles();\n  const [list, setList] = useState<SimpleListOfArticles | null>(null);\n\n  useEffect(() => {\n    setList(data);\n  }, [data]);\n\n  const handleChange = (term: string) => {\n    if (term.length > 2) {\n      let _ = list!.articles.filter((a) =>\n        a.name.toLowerCase().includes(term.toLowerCase())\n      );\n\n      let update: SimpleListOfArticles = {\n        articles: _,\n        count: _?.length,\n      };\n\n      setList(update);\n    } else {\n      setList(data);\n    }\n  };\n\n  if (state === \"Loaded\" && data) {\n    return (\n      <div className=\"articles\">\n        <Helmet>\n          <meta property=\"og:title\" content=\"List of Articles\" />\n          <meta property=\"og:url\" content={`${APP_URI}/articles`} />\n\n          <title>List of Articles</title>\n        </Helmet>\n\n        <header>\n          <h1>\n            Articles <span>{data?.count}</span>\n          </h1>\n        </header>\n\n        <form role=\"search\">\n          <input\n            type=\"search\"\n            autoFocus\n            onChange={(e) => handleChange(e.target.value)}\n          />\n        </form>\n\n        {list!.articles.length === 0 ? (\n          <h1>Got nothing with that term yo...</h1>\n        ) : (\n          <ul>\n            {list!.articles.map((a) => (\n              <li key={a.key}>\n                <Link to={linkFromPath(a.name)}>\n                  {refineArticleDisplay(a.name)}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        <Footer />\n      </div>\n    );\n  }\n\n  if (state === \"Error\") {\n    return <Oops />;\n  }\n\n  return <Loading />;\n};\n\nexport default Component;\n","/**\n * The homepage. This component doesn't need to exist because `Hello.md` is\n * just any other entity/article. But keep this here so you can customize\n * the homepage ♥️\n */\n\nimport React from \"react\";\nimport { Recent } from \".\";\n\nimport { Article } from \"../components\";\nimport { Article as ArticleT } from \"../types\";\n\nimport \"./Hello.css\";\n\nconst Component: React.FC<{\n  articleData: ArticleT;\n}> = ({ articleData }) => {\n  let ret = (\n    <>\n      <h1>Looks like you don't have a &#8220;Hello.md&#8221;&hellip;</h1>\n      <p>That's OK. Just make one and refresh!</p>\n    </>\n  );\n  if (articleData) {\n    ret = <Article article={articleData as ArticleT} />;\n  }\n\n  return (\n    <div className=\"hello\">\n      {ret}\n      <hr />\n      <Recent hideRoot={true} />\n    </div>\n  );\n};\n\nexport default Component;\n","import React from \"react\";\n\nimport Message from \"./Message\";\n\nconst Component: React.FC = ({ children }) => (\n  <Message>\n    <h1>Could not find that article or folder... sorry.</h1>\n  </Message>\n);\n\nexport default Component;\n","import React, { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Loading, Oops, Randomizing } from \"../components\";\n\nimport { useRandom } from \"../hooks/app\";\n\nconst Component: React.FC = () => {\n  const { state, data } = useRandom();\n  const [dummy, dummyDone] = useState(false);\n\n  /**\n   * Just some stupid shit...\n   */\n  useEffect(() => {\n    setTimeout(() => {\n      dummyDone(true);\n    }, 1000);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (state === \"Loaded\" && data) {\n    if (!dummy) {\n      return <Randomizing />;\n    }\n\n    return <Redirect to={data.name} />;\n  }\n\n  if (state === \"Error\") {\n    return <Oops />;\n  }\n\n  return <Loading />;\n};\n\nexport default Component;\n","import React from \"react\";\nimport { BsClock } from \"react-icons/bs\";\n\nimport { Hierarchy, Loading, Oops } from \"../components\";\nimport { humanReadableRelative, humanSize } from \"../helpers\";\nimport { useStatistics } from \"../hooks\";\n\nimport \"./Recent.css\";\n\nexport const Component: React.FC<{\n  hideRoot?: boolean;\n}> = ({ hideRoot = false }) => {\n  const { state, data } = useStatistics();\n\n  if (state === \"Loading\") {\n    return <Loading />;\n  }\n\n  if (state === \"Error\") {\n    return <Oops />;\n  }\n\n  return (\n    <div className=\"recent\">\n      <h2>Recent Updates</h2>\n      {data &&\n        data.latest.map((a) => (\n          <section key={a.key}>\n            <Hierarchy hierarchy={a.hierarchy} hideRoot={hideRoot} />\n            <p>{a.excerpt}</p>\n            <p>\n              <BsClock /> {humanReadableRelative(a.modified)} ago,{\" \"}\n              {humanSize(a.size_in_bytes)}\n            </p>\n          </section>\n        ))}\n    </div>\n  );\n};\n\nexport default Component;\n","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useLocation, useRouteMatch } from \"react-router-dom\";\nimport * as QueryString from \"query-string\";\nimport * as Diff2Html from \"diff2html\";\n\nimport { useCompare } from \"../hooks\";\nimport { MaybePath } from \"../types\";\n\nimport \"./Compare.css\";\nimport { articleNameFromPath } from \"../helpers\";\nimport { Loading } from \"../components\";\n\n// https://github.com/rtfpessoa/diff2html#diff2html-configuration\nconst diff2HtmlConfiguration = {\n  drawFileList: false,\n};\n\nconst SafeComparison: React.FC<{\n  articlePath: string;\n  a: string;\n  b: string;\n}> = ({ articlePath, a, b }) => {\n  const { state, data } = useCompare(articlePath, a, b);\n  const title = `${articleNameFromPath(articlePath)} - Comparing Revisions`;\n\n  if (state === \"Loaded\" && data) {\n    return (\n      <>\n        <Helmet>\n          <meta property=\"og:title\" content={title} />\n          <meta property=\"og:title\" content={title} />\n\n          <title>Comparing Revisions</title>\n        </Helmet>\n        <h1>{title}</h1>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: Diff2Html.html(data, {\n              ...diff2HtmlConfiguration,\n              outputFormat: \"side-by-side\",\n            }),\n          }}\n        />\n        <div\n          dangerouslySetInnerHTML={{\n            __html: Diff2Html.html(data, diff2HtmlConfiguration),\n          }}\n        />\n      </>\n    );\n  }\n\n  if (state === \"Error\") {\n    return <h1>Could not compare with those SHAs... :/</h1>;\n  }\n\n  return <Loading />;\n};\n\n// This is more of a SHA check wrapper\nconst Component = () => {\n  const match = useRouteMatch<MaybePath>(\"/:maybeArticlePath+/compare\");\n  const location = useLocation();\n  const q = QueryString.parse(location.search);\n\n  if (\n    !(\"a\" in q || \"b\" in q) ||\n    (q.a as string).trim() === \"\" ||\n    (q.b as string).trim() === \"\"\n  ) {\n    return <h1>You must give me two SHAs</h1>;\n  }\n\n  return (\n    <SafeComparison\n      articlePath={match?.params.maybeArticlePath!}\n      a={q.a as string}\n      b={q.b as string}\n    />\n  );\n};\n\nexport default Component;\n","import React, { useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\n\nimport { Footer, Loading, Oops } from \"../components\";\nimport { APP_URI } from \"../constants\";\nimport { linkFromPath } from \"../helpers\";\nimport { useSearch } from \"../hooks\";\n\nimport \"./Search.css\";\n\nexport const Results: React.FC<{\n  term: string;\n}> = ({ term }) => {\n  const { state, data } = useSearch(term);\n\n  if (data) {\n    return (\n      <div className=\"search-results\">\n        {data.count === 0 ? (\n          <h2>Could not find anything with &#8220;{term}&#8221;</h2>\n        ) : (\n          <>\n            <h2>\n              Results for &#8220;{term}&#8221; <span>{data.count}</span>\n            </h2>\n            {data?.results.map((r) => (\n              <section>\n                <h3>\n                  <Link to={`/${linkFromPath(r.path)}`}>{r.name}</Link>\n                </h3>\n                <div dangerouslySetInnerHTML={{ __html: r.content_matches }} />\n              </section>\n            ))}\n          </>\n        )}\n      </div>\n    );\n  } else {\n    if (state === \"Error\") {\n      return <Oops />;\n    }\n  }\n\n  return <Loading />;\n};\n\nexport const Search: React.FC = () => {\n  const { term } = useParams<{ term: string }>();\n  const [searchTerm, setSearchTerm] = useState<string>(term || \"\");\n  const history = useHistory();\n\n  const submitHandler = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    history.push(`/search/${searchTerm}`);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <meta property=\"og:title\" content=\"Search\" />\n        <meta property=\"og:description\" content=\"Search the wiki\" />\n        <meta property=\"og:url\" content={`${APP_URI}/search`} />\n\n        <title>Search</title>\n      </Helmet>\n      <header>\n        <h1>Search</h1>\n      </header>\n      <form role=\"search\" onSubmit={(e) => submitHandler(e)}>\n        <input\n          autoFocus\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          placeholder=\"three characters\"\n        />\n        <button type=\"submit\" disabled={searchTerm.length < 3}>\n          go\n        </button>\n      </form>\n      {term && term.length >= 3 && <Results term={term} />}\n      <Footer />\n    </>\n  );\n};\n","import React from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\n\nimport { useEntity } from \"./hooks\";\nimport { Hello, NotFound } from \"./pages\";\nimport Folder from \"./components/Folder\";\nimport Article from \"./components/Article\";\nimport { Article as ArticleT, Folder as FolderT, MaybePath } from \"./types\";\nimport { linkFromPath } from \"./helpers\";\nimport { Loading } from \"./components\";\n\nconst EntityRouter: React.FC<{\n  entityPath: string;\n}> = ({ entityPath }) => {\n  const { state, data } = useEntity(linkFromPath(entityPath));\n\n  if (!data && state === \"Error\") {\n    return <NotFound />;\n  }\n\n  if (data && state === \"Loaded\") {\n    if (entityPath === \"Hello\") {\n      return <Hello articleData={data as ArticleT} />;\n    }\n\n    return data.type === \"file\" ? (\n      <Article article={data as ArticleT} />\n    ) : (\n      <Folder folder={data as FolderT} />\n    );\n  }\n\n  return <Loading />;\n};\n\nconst PreparePath: React.FC = () => {\n  let { maybeArticlePath } = useParams<MaybePath>();\n\n  maybeArticlePath = maybeArticlePath || \"\";\n\n  if (maybeArticlePath.includes(\" \")) {\n    return <Redirect to={`/${maybeArticlePath.replace(\" \", \"_\")}`} />;\n  }\n\n  return <EntityRouter entityPath={maybeArticlePath} />;\n};\n\nexport default PreparePath;\n","import React from \"react\";\nimport { BiHomeSmile, BiSearch } from \"react-icons/bi\";\nimport { IoDiceOutline, IoDocumentsOutline } from \"react-icons/io5\";\n\nimport Router from \"./Router\";\nimport { Articles, Recent, Search, Compare, Revision, Random } from \"./pages\";\n\nexport const baseNavigationLinks = [\n  {\n    name: \"Search\",\n    title: \"Search this site\",\n    href: \"/search\",\n    icon: <BiSearch />,\n  },\n  {\n    name: \"Home\",\n    title: \"Go to this wiki's homepage\",\n    href: \"/Hello\",\n    icon: <BiHomeSmile />,\n  },\n  {\n    name: \"Articles\",\n    title: \"List of all articles in this wiki\",\n    href: \"/articles\",\n    icon: <IoDocumentsOutline />,\n  },\n  {\n    name: \"Random\",\n    title: \"Roll the dice!\",\n    href: \"/random\",\n    icon: <IoDiceOutline />,\n  },\n  // {\n  //   name: \"Dark Mode\",\n  //   title: \"Go Dark!\",\n  //   href: \"#\",\n  //   icon: <CgDarkMode />,\n  // },\n];\n\nexport const nonArticleRouteMap: Record<string, React.ReactNode> = {\n  \"/search/:term\": <Search />,\n  \"/search\": <Search />,\n  \"/articles\": <Articles />,\n  \"/recent\": <Recent />,\n  \"/random\": <Random />,\n\n  /**\n   * This is special. TODO: Explain why.\n   */\n  \"/ROOT\": <Router />,\n};\n\nexport const nonArticleRoutes = Object.keys(nonArticleRouteMap);\n\nconst RouteMap: Record<string, React.ReactNode> = {\n  ...nonArticleRouteMap,\n  \"/:maybeArticlePath+/revisions/:revisionId/raw\": <Revision />,\n  \"/:maybeArticlePath+/revisions/:revisionId\": <Revision />,\n  \"/:maybeArticlePath+/revisions\": <Router />,\n  \"/:maybeArticlePath+/compare\": <Compare />,\n  \"/:maybeArticlePath+/raw\": <Router />,\n  \"/:maybeArticlePath+\": <Router />,\n};\n\nexport default RouteMap;\n","import RouteMap from \"./Routes\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { APP_NAME } from \"./constants\";\nimport { Container, Nav } from \"./components\";\n\nimport \"./App.css\";\n\nconst App: React.FC = () => (\n  <Router>\n    <Container>\n      <Nav />\n      <Switch>\n        {Object.keys(RouteMap).map((k, i) => (\n          <Route key={`${APP_NAME}-${i}`} path={k} exact>\n            {RouteMap[k]}\n          </Route>\n        ))}\n        <Redirect from=\"/\" to=\"/Hello\" />\n      </Switch>\n    </Container>\n  </Router>\n);\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function to\n// log results (for example: reportWebVitals(console.log)) or send to an\n// analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}